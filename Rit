import streamlit as st
import pandas as pd

# Titel en introductie
st.title("ðŸš¢ Titanic Overlevingsvoorspeller")
st.write("Deze app gebruikt een Excel-model om te voorspellen wie overleeft.")

# Gebruikersinvoer
age = st.number_input("Leeftijd", min_value=0, max_value=100, value=30)
sex = st.selectbox("Geslacht", ["male", "female"])

# Excel-model laden
@st.cache_data
def laad_model():
    return pd.read_excel("data/teststst.xlsx")

model_df = laad_model()

# Voorspellingslogica
def voorspel(age, sex, regels):
    for _, regel in regels.iterrows():
        if regel['min_age'] <= age <= regel['max_age']:
            if regel['sex'].lower() == 'any' or regel['sex'].lower() == sex.lower():
                return regel['prediction']
    return "Geen voorspelling beschikbaar"

# Uitvoer
if st.button("Voorspel"):
    resultaat = voorspel(age, sex, model_df)
    st.success(f"ðŸ“Š Voorspelling: {resultaat}")
